# 식별자(Identifiers)
## 개념
- 여러 개의 집합체를 담고 있는 하나의 통에서 각각을 구분할 수 있는 논리적인 이름이 있어야하고 이 구분자를 식별자라고 한다.
- 하나의 엔터티에 구성되어 있는 여러 개의 속성 중에 엔터티를 대표할 수 있는 속성
- 하나의 엔터티는 반드시 하나의 유일한 식별자가 존재해야 한다.

## 특징
주식별자인지 외부식별자인지 등에 따라 특성이 다소 차이가 있지만 주식별자일 경우 다음과 같은 특징을 갖는다.
- 유일성 : 주식별자에 의해 엔터티내에 모든 인스턴스들이 유일하게 구분되어야 한다.
- 최소성 : 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 한다.
- 불변성 : 지정된 주식별자의 값은 자주 변하지 않는 것이어야 한다.
- 존재성 : 주식별자가 지정되면 반드시 값이 들어와야한다.

대체 식별자의 특징은 주식별자의 특징과 일치하지만 외부식별자는 참조무결성 제약조건에 따른 특징을 가지고 있다.

## 분류
식별자의 종류
- 자신의 엔터티 내에서 대표성을 가지는가에 따라 주식별자와 보조식별자로 구분
- 엔터티 내에서 스스로 생성되었는지 여부에 따라 내부식별자와 외부식별자로 구분
- 단일 속성으로 식별이 되는가에 다라 단일식별자와 복합식별자로 구분
- 원래 업무적으로 의미가 있던 식별자 속성을 대체하여 일련번호와 같이 새롭게 만든 식별자를 구분하기 위해 본질식별자와 인조식별자로도 구분할 수 있다.

## 주식별자 도출기준
- 해당 업무에서 자주 이용되는 속성을 주식별자로 지정한다.
- 명칭, 내역 등과 같이 이름으로 기술되는 것들은 가능하면 주식별자로 지정하지 않는다.
- 복합으로 주식별자로 구성할 경우 너무 많은 속성이 포함되지 않도록 한다.

## 식별자관계와 비식별자관계에 따른 식별자
### 관계의 결정
외부식별자는 자기 자신의 엔터티에서 필요한 속성이 아니라 다른 엔터티와의 관계를 통해 자식 쪽에 엔터티에 생성되는 속성을 의미하며 데이터베이스 생성 시에 Foreign Key역할을 한다. 관계와 속성을 정의하고 주식별자를 정의하면 논리적인 관계에 의해 자연스럽에 외부식별자가 도출되지만 자식엔터티에서 부모엔터티로부터 받은 외부식별자를 자신의 주식별자로 이용할 것인지 또는 부모와 연결이 되는 속성으로서만 이용할 것인지를 결정해야 한다.

### 식별자관계
부모로부터 받은 식별자를 자식엔터티의 주식별자로 이용하는 경우는 null값이 오면 안되므로 반드시 부모엔터티가 생성되어야 자기 자신의 엔터티가 생성되는 경우이다.

### 비식별자관계
부모엔터티로부터 속성을 받았지만 자식엔터티의 주식별자로 사용하지 않고 일반적인 속성으로만 사용하는 경우가 있다. 이와같은 경우를 비식별자 관계라고 하며 다음의 네가지 경우에 비식별자 관계에 의한 외부속성을 생성한다.
- 자식엔터티에서 받은 속성이 반드시 필수가 아니어도 무방하기 때문에 부모 없는 자식이 생성될 수 있는 경우
- 엔터티별로 데이터의 생명주기를 다르게 관리할 경우
- 여러 개의 엔터티가 하나의 엔터티로 통합되어 표현되었는데 각각의 엔터티가 별도의 관계를 가질 때
- 자식엔터티에 주식별자로 사용하여도 되지만 자식엔터티에서 별도의 주식별자를 생성하는 것이 더 유리하다고 판단될 때

### 식별자 관계로만 설정할 경우의 문제점
- 식별자 관계로 연결한 데이터 모델의 PK속성의 수는 데이터 모델의 흐름이 길어질수록 증가할 수 밖에 없는 구조를 가지게 된다.
- 개발자 복잡성과 오류가능성을 유발시킬 수 있는 요인이 될 수 있다.

### 비식별자 관계로만 설정할 경우의 문제점
- 비식별자 관계로 연결한 데이터 모델은 자식엔터티로 상속이 되지 않아 자식엔터티에서 데이터를 처리할 때 쓸데없이 부모엔터티까지 찾아가야하는 경우가 발생된다.
- 불필요한 조인이 다량으로 유발되면서 SQL구문도 길어지고 성능이 저하되는 현상이 발생된다.

### 식별자관계와 비식별자관계 모델링
비식별자관계 선택 프로세스
- 기본적으로 식별자 관계로 모든 관계가 연결되면서 다음 조건에 해당할 경우 비식별자관계로 조정하면 된다.
- 관계의 강/약 분석 : 약한 관계일 경우
- 자식테이블 독립 PK 필요여부 : 독립 PK 구성
- SQL 복잡도 증가, 개발생산성저하 : PK 속성 단순화