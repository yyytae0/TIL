# 데이터 모델의 이해
## 모델링의 이해
### 모델링의 정의
- 모델이란 모형, 축소형의 의미로서 사람이 살아가면서 나타날 수 있는 다양한 현상에 대해서 일정한 표기법에 의해 표현해 놓은 모형
- 모델링이란 표기법에 의해 규칙을 가지고 표기하는 것 즉, 모델을 만들어가는 일 자체를 의미한다.
- 가설적 또는 일정 양식에 맞춘 표현
- 어떤 것에 대한 예비표현으로 그로부터 최종대상이 구축되도록 하는 계획으로서 기여하는 것

### 모델링의 특징
- 추상화 : 현실세계를 일정한 형식에 맞추어 표현, 다양한 현상을 일정한 양식인 표기법에 의해 표현
- 단순화 : 복잡한 현실세계를 약속된 규약에 의해 제한된 표기법이나 언어로 표현하여 쉽게 이해할 수 있도록 하는 개념
- 명확화 : 누구나 이해하기 쉽게 하기 위해 대상에 대한 애매모호함을 제거하고 정확하게 현상을 기술하는 것

### 모델링의 세 가지 관점
- 데이터관점 : 업무가 어떤 데이터와 관련이 있는지 또는 데이터간의 관계는 무엇인지에 대해서 모델링 하는 방법(What, Data)
- 프로세스관점 : 업무가 실제하고 있는 일은 무엇인지 또는 무엇을 해야 하는지를 모델링하는 방법(How, Process)
- 데이터와 프로세스의 상관관점 : 업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법(Interaction)

## 데이터 모델의 기본 개념의 이해
### 데이터 모델링
- 정보시스템을 구축하기 위해, 해당 업무에 어떤 데이터가 존재하는지 또는 업무가 필요로 하는 정보는 무엇인지를 분석하는 방법
- 기업 업무에 대한 종합적인 이해를 바탕으로 데이터에 존재하는 업무 규칙에 대하여 참/거짓을 판별할 수 있는 사실을 데이터에 접근하는 방법, 사람, 전산화와는 별개의 관점에서 이를 명확하게 표현하는 추상화 기법

### 데이터 모델이 제공하는 기능
- 시스템을 현재 또는 원하는 모습으로 가시화하도록 도와준다
- 시스템의 구조와 행동을 명세화 할 수 있게 한다.
- 시스템을 구축하는 구조화된 틀을 제공
- 시스템을 구축하는 과정에서 결정한 것을 문서화
- 다양한 영역에 집중하기 위해 다른 영역의 세부 사항은 숨기는 다양한 관점을 제공
- 특정 목표에 따라 구체화된 상세 수준의 표현방법을 제공

### 데이터 모델링의 중요성 및 유의점
데이터 모델링이 중요한 이유는 파급효과, 복잡한 정보 요구사항의 간결한 표현, 데이터 품질로 정리할 수 있다.
- **파급효과**
  - 데이터 구조의 변경으로 인한 변경작업은 전체 시스템 구축에서 큰 위험요소이다.
- **복잡한 정보 요구사항의 간결한 표현**
  - 데이터 모델은 구축할 시스템의 정보 요구사항과 한계를 가장 명확하고 간결하게 표현할 수 있는 도구이다
  - 건축물의 설계 도면에 해당
- **데이터 품질**
  - 데이터는 기업의 중요한 자산이고 기간이 오래될수록 활용가치는 높아진다
- 유의점
  - 중복 : 데이터베이스가 여러 장소에 같은 정보를 저장하지 않도록 한다.
  - 비유연성 : 데이터의 정의를 데이터의 사용 프로세스와 분리함으로써 데이터 모델링은 데이터 혹은 프로세스의 작은 변화가 어플리케이션과 데이터베이스에 중대한 변화를 일으킬 수 있는 가능성을 줄인다.
  - 비일관성 : 개발자가 다른 데이터와 모순된다는 고려없이 일련의 데이터를 수정할 수 있다. 따라서 데이터 모델링을 할 때 데이터와 데이터간 상호 연관 관계에 대한 명확한 정의를 통해 예방할 수 있다.

## 데이터 모델링의 3단계 진행
추상화 수준에 따라 개념적, 논리적, 물리적 데이터 모델로 정리할 수 있다.
- 개념적 데이터 모델
  - 추상화 수준이 높고 업무중심적이고 포괄적인 수준의 모델링을 진행
  - 전사적 데이터 모델링, EA 수립시 많이 이용
- 논리적 데이터 모델
  - 시스템으로 구축하고자 하는 업무에 대해 Key, 속성, 관계 등을 정확하게 표현
  - 재사용성이 높음
- 물리적 데이터 모델
  - 실제로 데이터베이스에 이식할 수 있도록 성능, 저장 등 물리적인 성격을 고려하여 설계

## 프로젝트 생명주기에서 데이터모델링
- 일반적으로는 계획 또는 분석단계에서 개념적 데이터 모델링
- 분석단계에서 논리적 데이터 모델링
- 설계단계에서 물리적 데이터 모델링이 수행
- 단, 현실 프로젝트에서는 개념적 데이터 모델이 생략된 개념/논리 데이터 모델링이 분석단계 때 대부분 수행

## 데이터 모델링에서 데이터독립성의 이해
### 데이터독립성의 필요성
- 어떤 단위에 대해 독립적인 의미를 부여하고 그것을 효과적으로 구현하게 되면 자신이 가지는 고유한 특징을 명확하게 할 뿐만 아니라 다른 기능의 변경으로부터 쉽게 변경되지 않고 자신의 고유한 기능을 가지고 기능을 제공하는 장점을 갖는다
- 데이터 독립성은 지속적으로 증가하는 유지보수 비용을 절감하고 데이터 복잡도를 낮추며 중복된 데이터를 줄인다.
- 효과
  - 각 View의 독립성을 유지하고 계층별 View에 영향을 주지 않고 변경이 가능하다.
  - 단계별 Schema에 따라 데이터 정의어(DDL)와 데이터 조작어(DML)가 다름을 제공한다.

### 데이터독립성 3단계 구조
데이터베이스 스키마 구조는 3단계로 구분되고 각각은 상호 독립적인 의미를 가지고 고유한 기능을 가진다. 데이터 모델링은 통합관점의 뷰를 가지고 있는 개념 스키마를 만들어가는 과정으로 이해할 수 있다.
- 외부스키마
  - 사용자 관점, View 단계
  - 여러 개의 사용자 관점으로 구성, 즉 개개 사용자 단계로서 개개 사용자가 보는 개인적 DB 스키마
  - DB의 개개 사용자나 응용프로그래머가 접근하는 DB정의
- 개념 스키마
  - 통합 관점, 개념단계
  - 하나의 개념적 스키마로 구성, 모든 사용자 관점을 통합한 조직 전체의 DB를 기술하는 것
  - 모든 응용시스템들이나 사용자들이 필요로 하는 데이터를 통합한 조직 전체의 DB를 기술한 것으로 DB에 저장되는 데이터와 그들간의 관계를 표현하는 스키마
- 내부스키마
  - 물리적 저장구조, 내부단계
  - 내부 스키마로 구성, DB가 물리적으로 저장된 형식
  - 물리적 장치에서 데이터가 실제적으로 저장되는 방법을 표현하는 스키마

### 데이터 독립성 영역
3단계로 개념이 분리되면서 각각의 영역에 대한 독립성을 지정
- 논리적 독립성
  - 개념스키마가 변경되어도 외부 스키마에는 영향을 미치지 않도록 지원
  - 논리적 구조가 변경되어도 응용 프로그램에 영향 없음
  - 사용자 특성에 맞는 변경가능
  - 통합 구조 변경가능
- 물리적 독립성
  - 내부스키마가 변경되어도 외부/개념 스키마는 영향을 받지 않도록 지원하는 것
  - 저장장치의 구조변경은 응용프로그램과 개념스키마에 영향 없음
  - 물리적 구조 영향 없이 개념구조 변경가능
  - 개념구조 영향 없이 물리적인 구조 변경가능

### 사상
상호 독립적인 개념을 연결시켜주는 다리
- 외부적/개념적 사상(논리적 사상)
  - 외부적 뷰와 개념적 뷰의 상호 관련성을 정의
- 개념적/내부적 사상(물리적 사상)
  - 개념적 뷰와 저장된 데이터베이스의 상호관련성 정의

## 데이터 모델링의 중요한 세 가지 개념
### 데이터 모델링의 요소
- 업무가 관여하는 어떤 것(Things)
- 어떤 것이 가지는 성격(Attributes)
- 업무가 관여하는 어떤 것 같의 관계(Relationships)


## ERD
### 작업순서
- 엔터티를 그린다
- 엔터티를 적절하게 배치한다
- 엔터티간 관계를 설정한다
- 관계명을 기술한다
- 관계의 참여도를 기술한다
- 관계의 필수여부를 기술한다

## 좋은 데이터 모델의 요소
- 완전성
  - 업무에서 필요로 하는 모든 데이터가 데이터 모델에 정의되어 있어야 한다.
- 중복배제
  - 하나의 데이터베이스 내에 동일한 사실은 반드시 한 번만 기록하여야 한다.
- 업무규칙
  - 데이터 모델링 과정에서 도출되고 규명되는 수많은 업무규칙을 데이터 모델에 표현하고 이를 해당 데이터 모델을 활용하는 모든 사용자가 공유할 수 있도록 제공한다
- 데이터 재사용
  - 데이터 통합성과 독립성을 충분히 고려해야한다.
- 의사소통
  - 데이터 모델이 의사소통의 도구로서의 역할을 해야한다.
- 통합성
  - 동일한 성격의 데이터를 한 번만 정의하기 위해서는 공유 데이터에 대한 구조를 여러 업무 영역에서 공동으로 사용하기 용이하게 정의할 수 있어야 한다.

## 성능 데이터 모델링 고려사항
- 데이터 모델링을 할 때 정규화를 정확하게 수행한다
- 데이터베이스 용량산정을 수행한다
- 데이터베이스에 발생하는 트랜잭션의 유형을 파악한다
- 용량과 트랜잭션의 유형에 따라 반정규화를 수행한다
- 이력모델의 조정, PK/FK 조정, 슈퍼타입/서브타입 조정 등을 수행한다.
- 성능관점에서 데이터 모델을 검증한다.